# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## –¢–µ–∫—É—â–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: SQLite

–í –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **SQLite** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.

### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- ‚úÖ **–¢–∏–ø:** SQLite (—Ñ–∞–π–ª–æ–≤–∞—è –ë–î)
- üìÅ **–§–∞–π–ª:** `notifications.db` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- üîß **–î—Ä–∞–π–≤–µ—Ä:** `aiosqlite` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
- üìä **–†–∞–∑–º–µ—Ä:** –ù–µ–±–æ–ª—å—à–æ–π, –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

### –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

–í —Ñ–∞–π–ª–µ `database.py`:
```python
DATABASE_URL = "sqlite+aiosqlite:///./notifications.db"
```

### –ü–ª—é—Å—ã SQLite:
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –õ–µ–≥–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
- ‚úÖ –§–∞–π–ª –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/–±—ç–∫–∞–ø–∏—Ç—å
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### –ú–∏–Ω—É—Å—ã SQLite:
- ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤—ã—Å–æ–∫–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
- ‚ùå –û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–∏–Ω –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–ø–∏—Å–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚ùå –í Docker/–ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å volumes

---

## –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞: PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ª—É—á—à–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ PostgreSQL.

### –ö–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ PostgreSQL:

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install asyncpg psycopg2-binary
   ```

2. **–û–±–Ω–æ–≤–∏—Ç—å `requirements.txt`:**
   ```
   asyncpg>=0.29.0
   psycopg2-binary>=2.9.9
   ```

3. **–û–±–Ω–æ–≤–∏—Ç—å `database.py`:**

   ```python
   import os
   from urllib.parse import quote_plus

   # PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
   DATABASE_URL = os.getenv(
       "DATABASE_URL",
       f"postgresql+asyncpg://{quote_plus(os.getenv('DB_USER', 'user'))}:{quote_plus(os.getenv('DB_PASSWORD', 'password'))}@{os.getenv('DB_HOST', 'localhost')}:{os.getenv('DB_PORT', '5432')}/{os.getenv('DB_NAME', 'notifications')}"
   )
   ```

4. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Coolify:**
   ```
   DATABASE_URL=postgresql+asyncpg://user:password@host:5432/dbname
   ```

---

## –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å?

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQLite –µ—Å–ª–∏:
- ‚úÖ –ú–∞–ª–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (< 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö)
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –Ω–∞ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ù–µ –Ω—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –•–æ—Ç–∏—Ç–µ –ø—Ä–æ—Å—Ç–æ—Ç—É –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL –µ—Å–ª–∏:
- ‚úÖ –ú–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –í—ã—Å–æ–∫–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ù—É–∂–Ω–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ–¥–∞–∫—à–µ–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–µ

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

- **–¢–∏–ø –ë–î:** SQLite
- **–§–∞–π–ª:** `notifications.db` (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–±—ã–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏)

–î–ª—è Coolify SQLite —Ç–æ–∂–µ –ø–æ–¥–æ–π–¥–µ—Ç, –Ω–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Volume –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏.

